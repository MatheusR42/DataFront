"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Vue.component("binomial-calculator",{template:'\n        <section class="section">\n            <div class="columns is-desktop">\n                <div class="column" >\n                    <div class="field">\n                        <label class="label">Probability of success in a single event</label>\n                        <div class="control">\n                            <input class="input" type="text"name="eventProbability"  v-model="eventProbability"  >\n                        </div>\n                        <p class="help is-danger" v-if="errors.has( \'eventProbability\' )" v-text="errors.get( \'eventProbability\' )"></p>\n                    </div>\n                    \n                    <div class="field">\n                        <label class="label">Number of trials</label>\n                        <div class="control">\n                            <input class="input" type="text"name="numberOfTrials"  v-model="numberOfTrials">\n                            <p class="help is-danger" v-if="errors.has( \'numberOfTrials\' )" v-text="errors.get( \'numberOfTrials\' )"></p>\n                        </div>\n                    </div>\n                    <div class="field">\n                        <label class="label">Number of success</label>\n                        <div class="control">\n                            <input class="input" type="text"name="numberOfSuccess"   v-model="numberOfSuccess">\n                            <p class="help is-danger" v-if="errors.has( \'numberOfSuccess\' )"" v-text="errors.get( \'numberOfSuccess\' )"></p>\n                        </div>\n                    </div>\n\n                    <div class="field is-grouped">\n                        <div class="control">\n                            <button class="button is-link" @click="reset">Reset!</button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="column">\n                    <div class="content">\n                        <h5>Results</h5>\n                        <table class="table is-bordered is-striped is-narrow">\n                            <thead>\n                                <tr>\n                                    <th colspan="2">X ~ Bin({{this.numberOfSuccess | round }}, {{this.eventProbability | round }})</th>\n                                </tr>\n                            </thead> \n                            <tbody>\n                                <tr>\n                                        <td>P(X <  {{this.numberOfSuccess | round }})</td>\n                                        <td>{{this.binomialProbabilities.less | round }}</td>\n                                </tr>\n                                <tr>\n                                        <td>P(X <=  {{this.numberOfSuccess | round }})</td>\n                                        <td>{{this.binomialProbabilities.lessOrEqual | round }}</td>\n                                </tr>\n                                <tr>\n                                        <td>P(X = {{this.numberOfSuccess | round }})</td>\n                                        <td>{{this.binomialProbabilities.equal | round }}</td>\n                                </tr>\n                                <tr>\n                                        <td>P(X >  {{this.numberOfSuccess | round }})</td>\n                                        <td>{{this.binomialProbabilities.greater | round }}</td>\n                                </tr>\n                                <tr>\n                                        <td>P(X >=  {{this.numberOfSuccess | round }})</td>\n                                        <td>{{this.binomialProbabilities.greaterOrEqual | round }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                </div>\n                \n                <chart-vue :labels="chartData.labels" :values="chartData.values" title="Probability Mass Function" type="bar"></chart-vue>\n        </section>\n    ',data:function(){return{chartData:{labels:[],values:[]},eventProbability:.3,numberOfTrials:100,numberOfSuccess:35,binomialProbabilities:{equal:0,greater:0,less:0,lessOrEqual:0,greaterOrEqual:0},errors:new FormErrors}},watch:{eventProbability:function(){this.calculate()},numberOfTrials:function(){this.calculate()},numberOfSuccess:function(){this.calculate()}},filters:{round:function(e){return void 0!=String(e).split(".")[1]&&String(e).split(".")[1].length>4?e.toFixed(5):e}},mounted:function(){this.calculate()},methods:{calculate:function(){this.verifyErrors();var e=function(e){for(var t=1;e>1;)t*=e--;return t};this.chartData.values=[],this.chartData.labels=[],this.binomialProbabilities={equal:0,greater:0,less:0,lessOrEqual:0,greaterOrEqual:0};for(var t=0;t<=this.numberOfTrials;t++){var r=e(this.numberOfTrials)/(e(t)*e(this.numberOfTrials-t)),s=r*Math.pow(this.eventProbability,t)*Math.pow(1-this.eventProbability,this.numberOfTrials-t);t<this.numberOfSuccess&&(this.binomialProbabilities.less+=s),t==this.numberOfSuccess&&(this.binomialProbabilities.equal=s),t>this.numberOfSuccess&&(this.binomialProbabilities.greater+=s),this.chartData.labels.push(t),this.chartData.values.push(s)}this.binomialProbabilities.greaterOrEqual=this.binomialProbabilities.equal+this.binomialProbabilities.greater,this.binomialProbabilities.lessOrEqual=this.binomialProbabilities.equal+this.binomialProbabilities.less},verifyErrors:function(){var e=["eventProbability","numberOfTrials","numberOfSuccess"];this.errors.clear(),e.forEach(function(e){this[e]<0&&this.errors.set(e,"This value cannot be negative"),(Number.isNaN(parseFloat(this[e]))||""==String(this[e]).trim())&&this.errors.set(e,"This must be a number")},this),this.eventProbability>1?this.errors.set("eventProbability","The probability must be a number between 0 and 1"):this.errors.clear("eventProbability"),parseFloat(this.numberOfSuccess)>parseFloat(this.numberOfTrials)?this.errors.set("numberOfSuccess","The number of success can not be greater than the number of trials"):this.errors.clear("numberOfSuccess")},reset:function(){this.eventProbability=.3,this.numberOfTrials=100,this.numberOfSuccess=35,this.binomialProbabilities={equal:0,greater:0,less:0,lessOrEqual:0,greaterOrEqual:0},this.errors.calculate()}}});var _Vue$component;Vue.component("chart-vue",(_Vue$component={template:"<canvas></canvas>",props:["labels","values","color","type","title"]},_defineProperty(_Vue$component,"props",{labels:{},values:{},title:{},color:{default:"rgba(220, 220, 220, .2)"},type:{default:"line"}}),_defineProperty(_Vue$component,"data",function(){return{chart:0}}),_defineProperty(_Vue$component,"watch",{values:function(){this.chart&&this.chart.destroy(),this.render()}}),_defineProperty(_Vue$component,"methods",{render:function(){var e={labels:this.labels,datasets:[{label:this.title,data:this.values,backgroundColor:"rgba(54, 162, 235, .2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},t={title:{display:!0,text:this.title,fontSize:20},legend:{display:!1},label:{enabled:!1},tooltips:{displayColors:!1,callbacks:{label:function(e,t){return e.yLabel},title:function(e,t){return"Probability of getting "+e[0].xLabel}}}};this.chart=new Chart(this.$el.getContext("2d"),{type:this.type,data:e,options:t})}}),_Vue$component));